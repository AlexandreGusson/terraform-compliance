{"format_version":"0.1","terraform_version":"0.12.24","planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.test.aws_iam_role.task","mode":"managed","type":"aws_iam_role","name":"task","provider_name":"aws","schema_version":0,"values":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","description":"ECS task role for service","force_detach_policies":false,"max_session_duration":3600,"name_prefix":null,"path":"/","permissions_boundary":null,"tags":{"Name":"ECS Task Role"}}},{"address":"module.test.random_id.iam_prefix","mode":"managed","type":"random_id","name":"iam_prefix","provider_name":"random","schema_version":0,"values":{"byte_length":8,"keepers":{"name":"test"},"prefix":null}}],"address":"module.test"}]}},"resource_changes":[{"address":"module.test.aws_iam_role.task","module_address":"module.test","mode":"managed","type":"aws_iam_role","name":"task","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","description":"ECS task role for service","force_detach_policies":false,"max_session_duration":3600,"name_prefix":null,"path":"/","permissions_boundary":null,"tags":{"Name":"ECS Task Role"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"name":true,"tags":{},"unique_id":true}}},{"address":"module.test.random_id.iam_prefix","module_address":"module.test","mode":"managed","type":"random_id","name":"iam_prefix","provider_name":"random","change":{"actions":["create"],"before":null,"after":{"byte_length":8,"keepers":{"name":"test"},"prefix":null},"after_unknown":{"b64":true,"b64_std":true,"b64_url":true,"dec":true,"hex":true,"id":true,"keepers":{}}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.12.24","values":{"root_module":{"child_modules":[{"resources":[{"address":"data.aws_iam_policy_document.ecs_assume_role","mode":"data","type":"aws_iam_policy_document","name":"ecs_assume_role","provider_name":"aws","schema_version":0,"values":{"id":"320642683","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"policy_id":null,"source_json":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"}}],"address":"module.test"}]}}},"configuration":{"provider_config":{"test:aws":{"name":"aws","version_constraint":"~\u003e 2.0","module_address":"test"},"test:random":{"name":"random","version_constraint":"~\u003e 2.0","module_address":"test"}},"root_module":{"module_calls":{"test":{"source":"./role","module":{"resources":[{"address":"aws_iam_role.task","mode":"managed","type":"aws_iam_role","name":"task","provider_config_key":"test:aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.ecs_assume_role"]},"description":{"constant_value":"ECS task role for service"},"name":{"references":["random_id.iam_prefix"]},"tags":{"constant_value":{"Name":"ECS Task Role"}}},"schema_version":0},{"address":"random_id.iam_prefix","mode":"managed","type":"random_id","name":"iam_prefix","provider_config_key":"test:random","expressions":{"byte_length":{"constant_value":8},"keepers":{"references":["var.name"]}},"schema_version":0},{"address":"data.aws_iam_policy_document.ecs_assume_role","mode":"data","type":"aws_iam_policy_document","name":"ecs_assume_role","provider_config_key":"test:aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["ecs-tasks.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0}],"variables":{"name":{"default":"test"}}}}}}}}
