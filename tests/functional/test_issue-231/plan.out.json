{"format_version":"0.1","terraform_version":"0.12.21","planned_values":{"root_module":{"resources":[{"address":"aws_ecr_lifecycle_policy.default","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"default","provider_name":"aws","schema_version":0,"values":{"policy":"{\n  \"rules\": [\n    {\n      \"rulePriority\": 10,\n      \"description\": \"For tag with prod, keep last 5 images\",\n      \"selection\": {\n        \"tagStatus\": \"tagged\",\n        \"tagPrefixList\": [\n          \"prod\"\n        ],\n        \"countType\": \"imageCountMoreThan\",\n        \"countNumber\": 5\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 20,\n      \"description\": \"For tag with nonprod, keep last 15 images\",\n      \"selection\": {\n        \"tagStatus\": \"tagged\",\n        \"tagPrefixList\": [\n          \"nonprod\"\n        ],\n        \"countType\": \"imageCountMoreThan\",\n        \"countNumber\": 15\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 30,\n      \"description\": \"For tag with build, keep last 60 images\",\n      \"selection\": {\n        \"tagStatus\": \"tagged\",\n        \"tagPrefixList\": [\n          \"build\"\n        ],\n        \"countType\": \"imageCountMoreThan\",\n        \"countNumber\": 60\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 990,\n      \"description\": \"Keep untagged images for 7 days\",\n      \"selection\": {\n        \"tagStatus\": \"untagged\",\n        \"countType\": \"sinceImagePushed\",\n        \"countUnit\": \"days\",\n        \"countNumber\": 7\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 1000,\n      \"description\": \"Keep tagged images for 30 days\",\n      \"selection\": {\n        \"tagStatus\": \"any\",\n        \"countType\": \"sinceImagePushed\",\n        \"countUnit\": \"days\",\n        \"countNumber\": 30\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    }\n  ]\n}","repository":"blah"}}]}},"resource_changes":[{"address":"aws_ecr_lifecycle_policy.default","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"default","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\n  \"rules\": [\n    {\n      \"rulePriority\": 10,\n      \"description\": \"For tag with prod, keep last 5 images\",\n      \"selection\": {\n        \"tagStatus\": \"tagged\",\n        \"tagPrefixList\": [\n          \"prod\"\n        ],\n        \"countType\": \"imageCountMoreThan\",\n        \"countNumber\": 5\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 20,\n      \"description\": \"For tag with nonprod, keep last 15 images\",\n      \"selection\": {\n        \"tagStatus\": \"tagged\",\n        \"tagPrefixList\": [\n          \"nonprod\"\n        ],\n        \"countType\": \"imageCountMoreThan\",\n        \"countNumber\": 15\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 30,\n      \"description\": \"For tag with build, keep last 60 images\",\n      \"selection\": {\n        \"tagStatus\": \"tagged\",\n        \"tagPrefixList\": [\n          \"build\"\n        ],\n        \"countType\": \"imageCountMoreThan\",\n        \"countNumber\": 60\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 990,\n      \"description\": \"Keep untagged images for 7 days\",\n      \"selection\": {\n        \"tagStatus\": \"untagged\",\n        \"countType\": \"sinceImagePushed\",\n        \"countUnit\": \"days\",\n        \"countNumber\": 7\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    },\n    {\n      \"rulePriority\": 1000,\n      \"description\": \"Keep tagged images for 30 days\",\n      \"selection\": {\n        \"tagStatus\": \"any\",\n        \"countType\": \"sinceImagePushed\",\n        \"countUnit\": \"days\",\n        \"countNumber\": 30\n      },\n      \"action\": {\n        \"type\": \"expire\"\n      }\n    }\n  ]\n}","repository":"blah"},"after_unknown":{"id":true,"registry_id":true}}}],"configuration":{"root_module":{"resources":[{"address":"aws_ecr_lifecycle_policy.default","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"default","provider_config_key":"aws","expressions":{"policy":{"references":["path.module"]},"repository":{"constant_value":"blah"}},"schema_version":0}]}}}
